<html>
<head>
	<title>Sudoku Game</title>
	<link href="/stylesheets/application.css" rel="stylesheet" type="text/css">
	<script>

		function loadXMLDoc()
			{
				var xmlhttp;
				if (window.XMLHttpRequest)
				  {// code for IE7+, Firefox, Chrome, Opera, Safari
				  xmlhttp=new XMLHttpRequest();
				  }
				else
				  {// code for IE6, IE5
				  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
				  }
				xmlhttp.onreadystatechange=function()
				  {
				  if (xmlhttp.readyState==4 && xmlhttp.status==200)
				    {
				    document.getElementById("flash").innerHTML=xmlhttp.responseText;
			  }
			}
			xmlhttp.open("GET","/",true);
			xmlhttp.send();
			}
		</script>
</head>

<body>
	<h1>Keep calm and play Sudoku</h1>
	<div id="flash">
	<%= flash[:notice] %>
	</div>

	<div class="game-container">

		<div class="controls">
		
			<form action="/solution" method="get">
				<button id="show_solution_btn">Solution</button>
			</form>

			<form action="/reset" method="post">
				<button id="reset_btn">Reset</button>
			</form>

			<form action="http://en.wikipedia.org/wiki/Sudoku" type="submit">
				<button id="help_btn">Rules</button>
			</form>
		</div>
			<form id="sudoku" action="/" method="post">
				<% 3.times do |row| %>
					<div class="row"></table>
						<% 3.times do |box| %>
							<div class="box">
								<% 3.times do |cell_row| %>
									<div class='cell-row'>
										<% 3.times do |cell| %>
											<div class="cell">
												<% cell_index = row * 27 + box * 3 + cell_row * 9 + cell %>
												<% cell_value = cell_value(@current_solution[cell_index]) %>
		                  	<% colour_class = colour_class(
		                  			@check_solution, 
		                  			@puzzle[cell_index], 
		                  			@current_solution[cell_index], 
		                  			@solution[cell_index])  %>
		                    <input name="cell[]" class="<%= colour_class %>" type="text" 
		                      maxlength="1" autocomplete="off" value = "<%= cell_value %>">
											</div>
										<% end %>
									</div>
								<% end %>
							</div>
						<% end %>
					</div>
				<% end %>
				<button id="hint_btn" onclick="loadXMLDoc()">Hint</button>
			</form>
		

		<div class="level">
		<form action="/easy" method="post">
			<button id="easy_btn">Easy</button>
		</form>

		<form action="/medium" method="post">
			<button id="medium_btn">Medium</button>
		</form>

		<form action="/hard" method="post">
			<button id="hard_btn">Hard</button>
		</form>
	</div>

	</div>
</body>
</html>


